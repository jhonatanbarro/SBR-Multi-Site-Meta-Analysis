(read_excel("multisite_2015.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2015)
dat_2015
dat_2016 <- read_excel("multisite_2016.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2016.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2016)
dat_2017 <- read_excel("multisite_2017.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2017.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 22) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 23) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 24) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 25) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 26) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 27) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 28) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2017)
dat <- rbind(dat_2015, dat_2016, dat_2017)
str(dat)
library(tidyverse)
prod <- dat %>%
group_by(NOMETRAT, LOCAL, TRAT, YEAR) %>%
summarize(mean_PROD = mean(PROD)) %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3,5, 6)
var_prod <- dat %>%
group_by(LOCAL, YEAR) %>%
select(NOMETRAT, REP, PROD) %>%
group_by(LOCAL, YEAR) %>%
do(tidy(aov(.$PROD ~ .$NOMETRAT + factor(.$REP)))) %>%
filter(term == "Residuals") %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3, 7)
caf <- left_join(prod, var_prod)
library(tidyverse)
library(plyr)
caf$NOMETRAT <-  revalue(caf$NOMETRAT, c("Aproach" = "APROACH PRIMA",
"Aproach & Unizeb Gold" = "APROACH PRIMA+UNIZEB GOLD",
"Elatus" = "ELATUS",
"Elatus & Unizeb Gold" = "ELATUS+UNIZEB GOLD",
"Fox"= "FOX",
"Fox & Unizeb Gold 3,0" = "FOX+UNIZEB GOLD",
"Testemunha" = "ACHECK"
))
dat_caf <- caf %>%
filter(NOMETRAT == "APROACH PRIMA" |
NOMETRAT == "APROACH PRIMA+UNIZEB GOLD" |
NOMETRAT == "ELATUS" |
NOMETRAT == "ELATUS+UNIZEB GOLD"|
NOMETRAT == "FOX" |
NOMETRAT == "FOX+UNIZEB GOLD" |
NOMETRAT == "ACHECK")
dat_caf <- rename(dat_caf, fungicide = NOMETRAT, study = LOCAL_YEAR ,  location = LOCAL , year = YEAR, yield_kg = mean_PROD, V_yield = meansq)
detach("package:plyr", unload=TRUE)
library(tidyverse)
dat_caf <- rename(dat_caf, fungicide = NOMETRAT, study = LOCAL_YEAR ,  location = LOCAL , year = YEAR, yield_kg = mean_PROD, V_yield = meansq)
dat_caf <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
group_by(study) %>%
arrange (study, fungicide)
library(tidyverse)
library(readxl)
library(metafor)
library(broom)
dat_2015 <- read_excel("multisite_2015.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2015.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2015)
dat_2015
dat_2016 <- read_excel("multisite_2016.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2016.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2016)
dat_2017 <- read_excel("multisite_2017.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2017.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 22) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 23) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 24) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 25) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 26) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 27) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 28) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2017)
dat <- rbind(dat_2015, dat_2016, dat_2017)
str(dat)
library(tidyverse)
prod <- dat %>%
group_by(NOMETRAT, LOCAL, TRAT, YEAR) %>%
summarize(mean_PROD = mean(PROD)) %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3,5, 6)
var_prod <- dat %>%
group_by(LOCAL, YEAR) %>%
select(NOMETRAT, REP, PROD) %>%
group_by(LOCAL, YEAR) %>%
do(tidy(aov(.$PROD ~ .$NOMETRAT + factor(.$REP)))) %>%
filter(term == "Residuals") %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3, 7)
caf <- left_join(prod, var_prod)
library(tidyverse)
library(plyr)
caf$NOMETRAT <-  revalue(caf$NOMETRAT, c("Aproach" = "APROACH PRIMA",
"Aproach & Unizeb Gold" = "APROACH PRIMA+UNIZEB GOLD",
"Elatus" = "ELATUS",
"Elatus & Unizeb Gold" = "ELATUS+UNIZEB GOLD",
"Fox"= "FOX",
"Fox & Unizeb Gold 3,0" = "FOX+UNIZEB GOLD",
"Testemunha" = "ACHECK"
))
dat_caf <- caf %>%
filter(NOMETRAT == "APROACH PRIMA" |
NOMETRAT == "APROACH PRIMA+UNIZEB GOLD" |
NOMETRAT == "ELATUS" |
NOMETRAT == "ELATUS+UNIZEB GOLD"|
NOMETRAT == "FOX" |
NOMETRAT == "FOX+UNIZEB GOLD" |
NOMETRAT == "ACHECK")
detach("package:plyr", unload=TRUE)
library(tidyverse)
dat_caf <- rename(dat_caf, fungicide = NOMETRAT, study = LOCAL_YEAR ,  location = LOCAL , year = YEAR, yield_kg = mean_PROD, V_yield = meansq)
dat_caf1 <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
group_by(study) %>%
arrange (study, fungicide)
View(dat_caf1)
dat_caf1 <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
group_by(study) %>%
arrange (fungicide)
detach("package:plyr", unload=TRUE)
dat_caf1 <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
group_by(study) %>%
arrange (fungicide, study)
dat_caf1 <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
arrange (study, fungicide)
View(dat_caf1)
library(tidyverse)
library(readxl)
library(metafor)
library(broom)
dat_2015 <- read_excel("multisite_2015.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2015.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2015)
dat_2015
dat_2016 <- read_excel("multisite_2016.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2016.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2016)
dat_2017 <- read_excel("multisite_2017.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2017.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 22) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 23) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 24) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 25) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 26) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 27) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 28) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2017)
dat <- rbind(dat_2015, dat_2016, dat_2017)
str(dat)
library(tidyverse)
prod <- dat %>%
group_by(NOMETRAT, LOCAL, TRAT, YEAR) %>%
summarize(mean_PROD = mean(PROD)) %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3,5, 6)
var_prod <- dat %>%
group_by(LOCAL, YEAR) %>%
select(NOMETRAT, REP, PROD) %>%
group_by(LOCAL, YEAR) %>%
do(tidy(aov(.$PROD ~ .$NOMETRAT + factor(.$REP)))) %>%
filter(term == "Residuals") %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3, 7)
caf <- left_join(prod, var_prod)
library(tidyverse)
library(plyr)
caf$NOMETRAT <-  revalue(caf$NOMETRAT, c("Aproach" = "APROACH PRIMA",
"Aproach & Unizeb Gold" = "APROACH PRIMA+UNIZEB GOLD",
"Elatus" = "ELATUS",
"Elatus & Unizeb Gold" = "ELATUS+UNIZEB GOLD",
"Fox"= "FOX",
"Fox & Unizeb Gold 3,0" = "FOX+UNIZEB GOLD",
"Testemunha" = "ACHECK"
))
dat_caf <- caf %>%
filter(NOMETRAT == "APROACH PRIMA" |
NOMETRAT == "APROACH PRIMA+UNIZEB GOLD" |
NOMETRAT == "ELATUS" |
NOMETRAT == "ELATUS+UNIZEB GOLD"|
NOMETRAT == "FOX" |
NOMETRAT == "FOX+UNIZEB GOLD" |
NOMETRAT == "ACHECK")
library(tidyverse)
#library(plyr)
caf$NOMETRAT <-  revalue(caf$NOMETRAT, c("Aproach" = "APROACH PRIMA",
"Aproach & Unizeb Gold" = "APROACH PRIMA+UNIZEB GOLD",
"Elatus" = "ELATUS",
"Elatus & Unizeb Gold" = "ELATUS+UNIZEB GOLD",
"Fox"= "FOX",
"Fox & Unizeb Gold 3,0" = "FOX+UNIZEB GOLD",
"Testemunha" = "ACHECK"
))
dat_caf <- caf %>%
filter(NOMETRAT == "APROACH PRIMA" |
NOMETRAT == "APROACH PRIMA+UNIZEB GOLD" |
NOMETRAT == "ELATUS" |
NOMETRAT == "ELATUS+UNIZEB GOLD"|
NOMETRAT == "FOX" |
NOMETRAT == "FOX+UNIZEB GOLD" |
NOMETRAT == "ACHECK")
library(tidyverse)
library(readxl)
library(metafor)
library(broom)
dat_2015 <- read_excel("multisite_2015.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2015.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2015.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2015)
dat_2015
dat_2016 <- read_excel("multisite_2016.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2016.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2016.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2016)
dat_2017 <- read_excel("multisite_2017.xlsx", 1) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD) %>%
rbind((read_excel("multisite_2017.xlsx", 2) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 3) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 4) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 5) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 6) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 7) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 8) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 9) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 10) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 11) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 12) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 13) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 14) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 15) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 16) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 17) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 18) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 19) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 20) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 21) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 22) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 23) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 24) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 25) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 26) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 27) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD)),
(read_excel("multisite_2017.xlsx", 28) %>% select(NOMETRAT, LOCAL, TRAT, REP, SEV, PROD))) %>%
mutate(YEAR = 2017)
dat <- rbind(dat_2015, dat_2016, dat_2017)
str(dat)
library(tidyverse)
prod <- dat %>%
group_by(NOMETRAT, LOCAL, TRAT, YEAR) %>%
summarize(mean_PROD = mean(PROD)) %>%
unite(LOCAL_YEAR, LOCAL, YEAR, sep = "_", remove = F) %>%
ungroup() %>%
select(1:3,5, 6)
#detach("package:plyr", unload=TRUE)
library(tidyverse)
dat_caf <- rename(dat_caf, fungicide = NOMETRAT, study = LOCAL_YEAR ,  location = LOCAL , year = YEAR, yield_kg = mean_PROD, V_yield = meansq)
View(dat_caf)
dat_caf1 <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>% group_by()
#study = as.factor(study),
source = "CAF") %>% group_by()
dat_caf1 <- dat_caf %>%
mutate(
#study = as.factor(study),
source = "CAF")
arrange (LOCAL_YEAR, NOMETRAT)
#study = as.factor(study),
source = "CAF") %>% group_by(LOCAL_YEAR) %>%
dat_caf1 <- dat_caf %>%
mutate(
#study = as.factor(study),
source = "CAF") %>% group_by(LOCAL_YEAR) %>%
arrange (LOCAL_YEAR, NOMETRAT)
View(dat_caf1)
detach("package:plyr", unload=TRUE)
library(tidyverse)
dat_caf <- rename(dat_caf, fungicide = NOMETRAT, study = LOCAL_YEAR ,  location = LOCAL , year = YEAR, yield_kg = mean_PROD, V_yield = meansq)
dat_caf <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF")
dat_caf1 <- dat_caf %>%
arrange (study, fungicide)
View(dat_caf1)
dat_caf1 <- dat_caf %>% group_by(study) %>%
arrange (fungicide)
dat_caf1 <- dat_caf %>% group_by(study) %>%
arrange (location)
dat_caf1 <- dat_caf %>% group_by(study) %>%
arrange (location, fungicide)
str(dat_caf)
dat_caf1 <- dat_caf %>% group_by(study) %>%
arrange (study, fungicide)
dat_caf <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
filter(trial, length(trial)>1)
dat_caf <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
filter(study, length(study)>1)
str(dat_caf)
View(dat_caf)
dat_caf <- dat_caf %>%
mutate(study = as.factor(study),
source = "CAF") %>%
filter(length(study)>1)
